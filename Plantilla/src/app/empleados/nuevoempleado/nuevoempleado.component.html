<div class="container mt-4">
  <h2>{{ isEditing ? 'Editar' : 'Nuevo' }} Empleado</h2>

  <form [formGroup]="empleadoForm" (ngSubmit)="onSubmit()">
    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre</label>
      <input type="text" class="form-control" id="nombre" formControlName="nombre">
      <div class="alert alert-danger" *ngIf="empleadoForm.get('nombre')?.invalid && (empleadoForm.get('nombre')?.dirty || empleadoForm.get('nombre')?.touched)">
        <div *ngIf="empleadoForm.get('nombre')?.errors?.['required']">
          El nombre es requerido.
        </div>
      </div>
    </div>

    <div class="mb-3">
      <label for="apellido" class="form-label">Apellido</label>
      <input type="text" class="form-control" id="apellido" formControlName="apellido">
      <div class="alert alert-danger" *ngIf="empleadoForm.get('apellido')?.invalid && (empleadoForm.get('apellido')?.dirty || empleadoForm.get('apellido')?.touched)">
        <div *ngIf="empleadoForm.get('apellido')?.errors?.['required']">
          El apellido es requerido.
        </div>
      </div>
    </div>

    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input type="email" class="form-control" id="email" formControlName="email">
      <div class="alert alert-danger" *ngIf="empleadoForm.get('email')?.invalid && (empleadoForm.get('email')?.dirty || empleadoForm.get('email')?.touched)">
        <div *ngIf="empleadoForm.get('email')?.errors?.['required']">
          El email es requerido.
        </div>
        <div *ngIf="empleadoForm.get('email')?.errors?.['email']">
          Por favor, ingrese un email válido.
        </div>
      </div>
    </div>

    <div class="mb-3">
      <label for="telefono" class="form-label">Teléfono</label>
      <input type="text" class="form-control" id="telefono" formControlName="telefono">
    </div>

    <div class="mb-3">
      <label for="departamento_id" class="form-label">Departamento</label>
      <select class="form-control" id="departamento_id" formControlName="departamento_id">
        <option value="">Seleccione un departamento</option>
        <option *ngFor="let dept of departamentos" [value]="dept.departamento_id">
          {{ dept.nombre }}
        </option>
      </select>
      <div class="alert alert-danger" *ngIf="empleadoForm.get('departamento_id')?.invalid && (empleadoForm.get('departamento_id')?.dirty || empleadoForm.get('departamento_id')?.touched)">
        <div *ngIf="empleadoForm.get('departamento_id')?.errors?.['required']">
          El departamento es requerido.
        </div>
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="empleadoForm.invalid">
      {{ isEditing ? 'Actualizar' : 'Crear' }} Empleado
    </button>
    <button type="button" class="btn btn-secondary ms-2" routerLink="/empleados">Cancelar</button>
  </form>
</div>